@using VanPhongPhamDKT.Models
@model SanPham

@{
    ViewData["Title"] = "Chi tiết sản phẩm";
    Layout = "~/Views/Shared/_Layout.cshtml";

    string Src(string? p) => string.IsNullOrWhiteSpace(p)
        ? Url.Content("~/assets/img/placeholder-600x400.png")
        : (p.StartsWith("http", StringComparison.OrdinalIgnoreCase) ? p : Url.Content(p));

    string Fmt(decimal v) => string.Format("{0:N0} ₫", v);
}

<link rel="stylesheet" href="~/css/sanpham.css" asp-append-version="true" />
<div class="site-bg--sanpham"></div>

<div class="sp-detail-page container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="sp-title mb-0">Chi tiết sản phẩm</h2>
        <div>
            <a asp-area="admins" asp-controller="SanPham" asp-action="Edit" asp-route-id="@Model.MaSp"
               class="btn sp-btn-primary me-2"><i class="fa fa-pen"></i> Sửa</a>
            <a asp-area="admins" asp-controller="SanPham" asp-action="Index" class="btn sp-btn-cancel sp-back">
                ← Quay lại
            </a>
        </div>
    </div>

    <div class="sp-detail-grid">
        <div class="sp-detail-card">
            <img src="@Src(Model.HinhAnh)" alt="@Model.TenSp" class="sp-detail-img" />
        </div>

        <div class="sp-detail-card">
            <div class="card-body p-0">
                <h3 class="fw-bold text-white mb-2">@Model.TenSp</h3>
                <div class="sp-price-large mb-3">@Fmt(Model.Gia)</div>

                <dl class="sp-dl">
                    <dt>Mã SP</dt>
                    <dd>@Model.MaSp</dd>

                    <dt>Danh mục</dt>
                    <dd>
                        <span class="sp-cat">@((Model.MaDmNavigation?.TenDm) ?? $"#{Model.MaDm}")</span>
                    </dd>

                    <dt>Số lượng</dt>
                    <dd>@Model.SoLuong</dd>

                    <dt>Mô tả</dt>
                    <dd>@(string.IsNullOrWhiteSpace(Model.MoTa) ? "—" : Model.MoTa)</dd>
                </dl>
            </div>
        </div>
    </div>
</div>